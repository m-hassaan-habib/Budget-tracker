{% extends "base.html" %}
{% block content %}
<div class="max-w-lg mx-auto bg-white rounded-xl shadow-sm border border-gray-200 p-6">
  <h2 class="text-xl font-bold mb-4">Profile</h2>
  <div class="flex items-center space-x-4 mb-6">
    {% if user.avatar_filename %}
    <img src="{{ url_for('avatar_file', filename=user.avatar_filename) }}" class="w-16 h-16 rounded-full object-cover">
    {% else %}
    <div class="w-16 h-16 rounded-full bg-gray-200 flex items-center justify-center text-2xl text-gray-600">
      {{ user.name[:1] }}
    </div>
    {% endif %}
    <div>
      <p class="text-sm text-gray-500">Logged in as</p>
      <p class="text-base font-semibold text-gray-800">{{ user.email }}</p>
    </div>
  </div>

  <form method="POST" enctype="multipart/form-data" class="space-y-4">
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Name</label>
      <input type="text" name="name" value="{{ user.name }}" class="w-full h-10 border border-gray-300 rounded-md px-3 text-sm focus:outline-none focus:ring-2 focus:ring-purple-500">
    </div>
    <div>
      <label class="block text-sm font-medium text-gray-700 mb-1">Avatar</label>
      <input type="file" name="avatar" accept="image/png,image/jpeg" class="w-full text-sm">
      <p class="text-[11px] text-gray-500 mt-1">PNG/JPG, max 5MB</p>
    </div>
    <button type="submit" class="h-10 px-4 bg-purple-600 text-white rounded-md text-sm font-medium">Save changes</button>
  </form>
</div>
{% endblock %}
