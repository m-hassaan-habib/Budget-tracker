{% extends "base.html" %}
{% block content %}

<div class="max-w-lg mx-auto">

  <!-- Header -->
  <div class="flex items-center gap-3 mb-6">
    <a href="{{ url_for('income.index') }}"
       class="w-9 h-9 rounded-lg border border-gray-200 dark:border-gray-700 flex items-center justify-center
              text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 hover:border-gray-300 dark:hover:border-gray-600 transition">
      <i class="fas fa-arrow-left fa-sm"></i>
    </a>
    <div>
      <h2 class="text-xl font-bold text-gray-900 dark:text-gray-100">Edit Expected Income</h2>
      <p class="text-sm text-gray-500 dark:text-gray-400">Update "{{ income.source }}"</p>
    </div>
  </div>

  <!-- Form -->
  <form method="POST" action="{{ url_for('income.edit_income', id=income.id) }}"
        class="bg-white dark:bg-[#1a1a1a] border border-gray-200 dark:border-gray-700
               rounded-xl shadow-sm p-6 space-y-5 transition">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">
        Source Name
      </label>
      <input type="text" name="source" required autofocus
             value="{{ income.source }}"
             class="w-full h-12 border border-gray-300 dark:border-gray-600
                    bg-white dark:bg-[#222] text-gray-900 dark:text-gray-100
                    rounded-lg shadow-sm px-4 text-sm
                    focus:ring-2 focus:ring-[#0f8238] focus:border-[#0f8238] transition">
    </div>

    <div>
      <label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1.5">
        Amount (Rs)
      </label>
      <input type="number" step="0.01" name="amount" required min="0"
             value="{{ income.amount }}"
             class="w-full h-12 border border-gray-300 dark:border-gray-600
                    bg-white dark:bg-[#222] text-gray-900 dark:text-gray-100
                    rounded-lg shadow-sm px-4 text-sm
                    focus:ring-2 focus:ring-[#0f8238] focus:border-[#0f8238] transition">
    </div>

    <div class="flex items-center gap-3 pt-2">
      <button type="submit"
              class="flex-1 h-12 bg-[#0f8238] hover:bg-green-700 text-white font-medium
                     rounded-lg shadow-sm transition text-sm">
        <i class="fas fa-save mr-2"></i>Save Changes
      </button>
      <a href="{{ url_for('income.index') }}"
         class="h-12 px-5 border border-gray-300 dark:border-gray-600 rounded-lg
                text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-[#222]
                flex items-center justify-center text-sm transition">
        Cancel
      </a>
    </div>

  </form>

</div>

{% endblock %}
